From 73f24dc6cc932b2a7acbdb4480a33ab707e36c87 Mon Sep 17 00:00:00 2001
From: Alexandre Jutras <alexandre.jutras@nxp.com>
Date: Tue, 26 Mar 2019 14:39:42 -0400
Subject: [PATCH 1/2] gstwaylandsink: Disable element by setling rank to
 GST_RANK_NONE

Signed-off-by: Alexandre Jutras <alexandre.jutras@nxp.com>
---
 ext/wayland/gstwaylandsink.c | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

diff --git a/ext/wayland/gstwaylandsink.c b/ext/wayland/gstwaylandsink.c
index 2abfa0b..a7057a6 100644
--- a/ext/wayland/gstwaylandsink.c
+++ b/ext/wayland/gstwaylandsink.c
@@ -1245,7 +1245,8 @@ plugin_init (GstPlugin * plugin)
       " wayland video sink");
 
   gst_wl_shm_allocator_register ();
-  
+ 
+#if 0 
   if (HAS_DPU()) {
     if (HAS_VPU())
       rank = IMX_GST_PLUGIN_RANK + 1;
@@ -1254,6 +1255,10 @@ plugin_init (GstPlugin * plugin)
   } else if (HAS_DCSS()) {
     rank = IMX_GST_PLUGIN_RANK + 1;
   }
+#else
+  GST_INFO("[AJ] Disable waylandsink (set rank to GST_RANK_NONE)\n");
+  rank = GST_RANK_NONE;
+#endif
 
   return gst_element_register (plugin, "waylandsink", rank,
       GST_TYPE_WAYLAND_SINK);
-- 
2.7.4

